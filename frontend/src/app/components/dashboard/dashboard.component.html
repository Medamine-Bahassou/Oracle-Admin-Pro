<main class="flex-grow p-6">
  <header class="flex items-center justify-between mb-6">
    <h1 class="text-3xl font-bold">
      Dashboard
    </h1>

  </header>
  <!-- Statistics Cards -->
  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
    <div class="bg-white p-6 rounded-lg shadow-md flex items-center">
      <div class="p-4 bg-blue-500 text-white rounded-full">
        <i class="fas fa-database">
        </i>
      </div>
      <div class="ml-4">
        <h2 class="text-xl font-bold">
          Databases
        </h2>
        <p class="text-gray-600">
          15
        </p>
      </div>
    </div>
    <div class="bg-white p-6 rounded-lg shadow-md flex items-center">
      <div class="p-4 bg-green-500 text-white rounded-full">
        <i class="fas fa-table">
        </i>
      </div>
      <div class="ml-4">
        <h2 class="text-xl font-bold">
          Tables
        </h2>
        <p class="text-gray-600">
          120
        </p>
      </div>
    </div>
    <div class="bg-white p-6 rounded-lg shadow-md flex items-center">
      <div class="p-4 bg-yellow-500 text-white rounded-full">
        <i class="fas fa-users">
        </i>
      </div>
      <div class="ml-4">
        <h2 class="text-xl font-bold">
          Users
        </h2>
        <p class="text-gray-600">
          45
        </p>
      </div>
    </div>
    <div class="bg-white p-6 rounded-lg shadow-md flex items-center">
      <div class="p-4 bg-red-500 text-white rounded-full">
        <i class="fas fa-cogs">
        </i>
      </div>
      <div class="ml-4">
        <h2 class="text-xl font-bold">
          Settings
        </h2>
        <p class="text-gray-600">
          5
        </p>
      </div>
    </div>
  </div>

  <!-- charts -->
  <div class="dashboard">
    <h1>Performance Dashboard</h1>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
      <div>
        <canvas id="cpuChart" width="400" height="200"></canvas>
      </div>
      <div>
        <canvas id="memoryChart" width="400" height="200"></canvas>
      </div>
      <div>
        <canvas id="ioChart" width="400" height="200"></canvas>
      </div>
    </div>
    <div class="mt-6 flex gap-4">
      <button (click)="downloadAwrReport()" class="btn btn-primary">
        Download AWR Report
      </button>
      <button (click)="downloadAshReport()" class="btn btn-primary">
        Download ASH Report
      </button>
    </div>
  </div>

  <!-- AWR Report -->
  <div class="mt-8">
    <h2 class="text-2xl font-bold mb-4">AWR Report</h2>
    <div *ngIf="awrReport.length > 0" class="overflow-x-auto">
      <table class="table table-zebra w-full">
        <thead>
        <tr>
          <th>Snapshot ID</th>
          <th>Start Time</th>
          <th>End Time</th>
          <th>SQL ID</th>
          <th>Executions</th>
          <th>Elapsed Time</th>
          <th>CPU Time</th>
          <th>Buffer Gets</th>
          <th>Disk Reads</th>
          <th>Rows Processed</th>
          <th>Plan Hash Value</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let row of pagedAwrReport">
          <td>{{ row.snapshotId }}</td>
          <td>{{ row.startTime }}</td>
          <td>{{ row.endTime }}</td>
          <td>{{ row.sqlId }}</td>
          <td>{{ row.executions }}</td>
          <td>{{ row.elapsedTime }}</td>
          <td>{{ row.cpuTime }}</td>
          <td>{{ row.bufferGets }}</td>
          <td>{{ row.diskReads }}</td>
          <td>{{ row.rowsProcessed }}</td>
          <td>{{ row.planHashValue }}</td>
        </tr>
        </tbody>
      </table>
    </div>
    <p *ngIf="awrReport.length === 0" class="mt-4 text-gray-600">No AWR data found.</p>
    <div *ngIf="awrReport.length > 0" class="join mt-4">
      <button class="join-item btn" [disabled]="currentPageAwr === 0" (click)="previousPageAwr()">«</button>
      <button class="join-item btn" [disabled]="true">Page {{ currentPageAwr + 1}} of {{ totalPagesAwr}}</button>
      <button class="join-item btn" [disabled]="currentPageAwr >= totalPagesAwr -1 " (click)="nextPageAwr()">»</button>
    </div>
  </div>

  <!-- ASH Report -->
  <div class="mt-8">
    <h2 class="text-2xl font-bold mb-4">ASH Report</h2>
    <div *ngIf="ashReport.length > 0" class="overflow-x-auto">
      <table class="table table-zebra w-full">
        <thead>
        <tr>
          <th>Session ID</th>
          <th>Event</th>
          <th>Wait Class</th>
          <th>Sample Time</th>
        </tr>
        </thead>
        <tbody>
        <tr *ngFor="let ash of pagedAshReport">
          <td>{{ ash.sessionId }}</td>
          <td>{{ ash.event }}</td>
          <td>{{ ash.waitClass }}</td>
          <td>{{ ash.sampleTime }}</td>
        </tr>
        </tbody>
      </table>
    </div>
    <p *ngIf="ashReport.length === 0" class="mt-4 text-gray-600">No ASH data found.</p>
    <div *ngIf="ashReport.length > 0" class="join mt-4">
      <button class="join-item btn" [disabled]="currentPageAsh === 0" (click)="previousPageAsh()">«</button>
      <button class="join-item btn" [disabled]="true">Page {{ currentPageAsh + 1}} of {{ totalPagesAsh}}</button>
      <button class="join-item btn" [disabled]="currentPageAsh >= totalPagesAsh -1 " (click)="nextPageAsh()">»</button>
    </div>
  </div>
</main>
